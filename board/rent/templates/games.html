<html>
<head>

	{% extends "base.html" %}
	{% load static %}
	{% block extrahead %}
	<link rel="stylesheet" href="{% static 'css/rent_style.css' %}" type="text/css"> 
	{% endblock %} 

</head>
<body>
<!-- No se por que no va esto -->
	

{% block content %}

<!-- Aqui hacer bucle por columna para hacer una buena vista-->

<br class="container py-5">
	
	<h1> Lista de Juegos </h1>
	{% if request.user.is_authenticated %}
	<a href= "/newgame" class="btn btn-info btn-sm; my-2" style="border-radius: 8px; margin-left: 3%; color:black; font-weight: bold;">Subir juego</a>
	{% endif %}

	<!-- Aqui esta el buscador 
	<div class="row">
		
			<div class="col-4">
				<input class="form-control mx-4 my-2" type="text" placeholder="Search" aria-label="Search">
			</div>
			<div class="col-8">
				<button class="btn btn-primary my-2" type="submit">Buscar</button>
			</div>
				
	</div>-->
</br><a type="button" class=" btn btn-primary " href="/games/filterDistance">Filtrar por distancia</a>
		
			<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown"> Filtrado por estado</button>
			<div class ="dropdown-menu">
				<a href="/games/filterStatus/1" class="dropdown-item" style="color: black;">Perfecto</a>
				<a href="/games/filterStatus/2" class="dropdown-item" style="color: black;">Faltan piezas</a>
				<a href="/games/filterStatus/3" class="dropdown-item" style="color: black;">Gastado</a>
				<a href="/games/filterStatus/4" class="dropdown-item" style="color: black;">Injugable</a>
			</div>	
				
	{% if filter %}
	<a href="/games">Eliminar filtros</a>
	{% endif %}
	
	<div class="container" style= "display: flex; flex-wrap: wrap;">
		
	{% for dato in games %}

	<table  class= "table-games">
	<!-- Vamos a introducir  algunos juegos -->
	<tr style="text-align:center;">
		<td><img style="width: 245px;height: 245px; ; border-radius: 8px;" src="{{dato.picture.url}} "/>
	 <div><h3> {{dato.name|capfirst}} - <i> {{dato.price}} €</i> </br></h3>
		 Estado: {{dato.status}} </br>
		 <a href= "/gameDetail/{{dato.id}}" class="btn btn-info btn-sm"
		  style="border-radius: 8px; margin-top: 10px;color:black; font-weight: bold;">Ver mas</a></br> </br></td>
		
	</tr>
	</table>
	{% empty %}

<!-- Hacer Visible esta pagina. -->

	<li>Vaya, parece que no hay juegos</li>

	{% endfor %}
</div>


<!-- Solución Parcial, ver como solucionarlo -->

</div>
<!-- Una vista final de la vista para darle profesionalidad -->

{% endblock %}

</body>
</html>
